2022-12-21 09:50:20,758 fflow.py initialize [line:249] INFO Using Logger in `utils.logger.basic_logger`
2022-12-21 09:50:20,758 fflow.py initialize [line:250] INFO Initializing fedtask: pill_classification
2022-12-21 09:50:20,963 fflow.py initialize [line:266] INFO Using model `resnet18` in `benchmark.pill_classification.model.resnet18` as the globally shared model.
2022-12-21 09:50:20,964 fflow.py initialize [line:292] INFO Using sampler `threshold_sampler` in `sampler.threshold_sampler` as the globally shared model.
Using cache found in /home/aiotlabws/.cache/torch/hub/pytorch_vision_v0.10.0
2022-12-21 09:50:27,291 fflow.py initialize [line:312] INFO Initializing Clients: 10 clients of `algorithm.fedavg.Client` being created.
2022-12-21 09:50:27,292 fflow.py initialize [line:333] INFO Initializing Server: 1 server of `algorithm.fedavg.Server` being created.
2022-12-21 09:50:27,293 fflow.py initialize [line:346] INFO Ready to start.
2022-12-21 09:50:27,293 fedbase.py run [line:60] INFO --------------Round 1--------------
> /mnt/disk2/ndlong/easyFL/utils/logger/basic_logger.py(222)log_once()
-> self.show_current_output()
2022-12-21 09:50:57,615 basic_logger.py show_current_output [line:134] INFO test_accuracy                 0.0130
2022-12-21 09:50:57,616 basic_logger.py show_current_output [line:134] INFO test_loss                     4.5173
2022-12-21 09:50:57,616 basic_logger.py time_end [line:74] INFO Eval Time Cost:               30.3227s
> /mnt/disk2/ndlong/easyFL/algorithm/fedbase.py(71)run()
-> if flw.logger.early_stop():
2022-12-21 09:51:42,249 fedbase.py iterate [line:97] INFO Selected clients : [1, 2]
Client 1 init its dataloader
2022-12-21 09:52:04,634 main.py main [line:25] ERROR Exception Logged
Traceback (most recent call last):
  File "main.py", line 22, in main
    server.run()
  File "/mnt/disk2/ndlong/easyFL/algorithm/fedbase.py", line 71, in run
    if flw.logger.early_stop():
  File "/mnt/disk2/ndlong/easyFL/algorithm/fedbase.py", line 99, in iterate
    models = self.communicate(self.selected_clients)["model"]
  File "/mnt/disk2/ndlong/easyFL/algorithm/fedbase.py", line 119, in communicate
    response_from_client_id = self.communicate_with(client_id)
  File "/mnt/disk2/ndlong/easyFL/algorithm/fedbase.py", line 143, in communicate_with
    return self.clients[client_id].reply(svr_pkg)
  File "/mnt/disk2/ndlong/easyFL/algorithm/fedbase.py", line 465, in reply
    self.train(model)
  File "/mnt/disk2/ndlong/easyFL/algorithm/fedbase.py", line 424, in train
    utils.fmodule.LOG_DICT["training_loss"][f"client_{self.id}"] = list_training_loss
KeyError: 'training_loss'
Traceback (most recent call last):
  File "main.py", line 22, in main
    server.run()
  File "/mnt/disk2/ndlong/easyFL/algorithm/fedbase.py", line 71, in run
    if flw.logger.early_stop():
  File "/mnt/disk2/ndlong/easyFL/algorithm/fedbase.py", line 99, in iterate
    models = self.communicate(self.selected_clients)["model"]
  File "/mnt/disk2/ndlong/easyFL/algorithm/fedbase.py", line 119, in communicate
    response_from_client_id = self.communicate_with(client_id)
  File "/mnt/disk2/ndlong/easyFL/algorithm/fedbase.py", line 143, in communicate_with
    return self.clients[client_id].reply(svr_pkg)
  File "/mnt/disk2/ndlong/easyFL/algorithm/fedbase.py", line 465, in reply
    self.train(model)
  File "/mnt/disk2/ndlong/easyFL/algorithm/fedbase.py", line 424, in train
    utils.fmodule.LOG_DICT["training_loss"][f"client_{self.id}"] = list_training_loss
KeyError: 'training_loss'
During handling of the above exception, another exception occurred:
Traceback (most recent call last):
  File "main.py", line 31, in <module>
    main()
  File "main.py", line 26, in main
    raise RuntimeError
RuntimeError